<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Government Dashboard - Punjab Land Analytics Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../js/tailwind-config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-primary-500 text-white shadow-lg sticky top-0 z-50">
        <div class="flex items-center justify-between px-4 h-16">
            <div class="flex items-center gap-4">
                <a href="../index.html" class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center">
                        <i class="fas fa-landmark text-white text-sm"></i>
                    </div>
                    <span class="font-bold">PLAP</span>
                </a>
                <span class="hidden md:inline text-primary-200">|</span>
                <span class="hidden md:inline text-sm">Government Executive Dashboard</span>
            </div>

            <div class="flex items-center gap-4">
                <select class="bg-white/10 border border-white/20 rounded-lg px-3 py-1.5 text-sm">
                    <option>FY 2024-25</option>
                    <option>FY 2023-24</option>
                    <option>FY 2022-23</option>
                </select>
                <div class="flex items-center gap-2">
                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-sm font-medium">
                        GO
                    </div>
                    <div class="hidden md:block text-right">
                        <p class="text-sm font-medium">Govt. Official</p>
                        <p class="text-xs text-primary-200">Planning Dept</p>
                    </div>
                    <a href="../login.html" class="text-white/70 hover:text-white ml-2">
                        <i class="fas fa-sign-out-alt"></i>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-lg min-h-screen fixed left-0 top-16 hidden lg:block">
            <nav class="p-4">
                <div class="mb-6">
                    <a href="dashboard.html" class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary-50 text-primary-700 font-medium">
                        <i class="fas fa-tachometer-alt w-5"></i>
                        Executive Dashboard
                    </a>
                    <a href="../explore.html" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 mt-1">
                        <i class="fas fa-search w-5"></i>
                        Data Explorer
                    </a>
                    <a href="../visualizations.html" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 mt-1">
                        <i class="fas fa-chart-line w-5"></i>
                        Analytics
                    </a>
                    <a href="reports.html" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 mt-1">
                        <i class="fas fa-file-alt w-5"></i>
                        Reports
                    </a>
                </div>

                <div class="mb-6">
                    <p class="text-xs text-gray-500 uppercase font-semibold mb-2">Toggle Data</p>
                    <label class="flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <span class="flex items-center gap-3 text-gray-600">
                            <i class="fas fa-user-clock w-5"></i>
                            Attendance Stats
                        </span>
                        <input type="checkbox" class="toggle" checked>
                    </label>
                    <label class="flex items-center justify-between px-3 py-2 rounded-lg hover:bg-gray-100 cursor-pointer">
                        <span class="flex items-center gap-3 text-gray-600">
                            <i class="fas fa-building w-5"></i>
                            Franchise Data
                        </span>
                        <input type="checkbox" class="toggle">
                    </label>
                </div>

                <div>
                    <a href="../researcher/download.html" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100">
                        <i class="fas fa-download w-5"></i>
                        Export Data
                    </a>
                    <a href="../documentation.html" class="flex items-center gap-3 px-3 py-2 rounded-lg text-gray-600 hover:bg-gray-100 mt-1">
                        <i class="fas fa-book w-5"></i>
                        Documentation
                    </a>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 lg:ml-64 p-6">
            <!-- Page Title -->
            <div class="flex flex-col md:flex-row md:items-center justify-between mb-6">
                <div>
                    <h1 class="text-2xl font-bold text-gray-800">Punjab Land Activity Dashboard</h1>
                    <p class="text-gray-600">Real-time insights for policy makers</p>
                </div>
                <div class="flex items-center gap-2 mt-4 md:mt-0">
                    <span class="text-sm text-gray-500">Last updated:</span>
                    <span class="text-sm font-medium text-gray-800">Dec 1, 2024, 10:30 AM</span>
                    <button class="p-2 bg-gray-100 rounded-lg hover:bg-gray-200">
                        <i class="fas fa-sync-alt text-gray-600"></i>
                    </button>
                </div>
            </div>

            <!-- Key Metrics -->
            <div class="grid grid-cols-2 lg:grid-cols-5 gap-4 mb-6">
                <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-primary-500">
                    <p class="text-sm text-gray-500 mb-1">Total Registrations</p>
                    <p class="text-2xl font-bold text-gray-800">275,430</p>
                    <p class="text-xs text-green-600 mt-1"><i class="fas fa-arrow-up"></i> 12.5% YoY</p>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-land-500">
                    <p class="text-sm text-gray-500 mb-1">Total Mutations</p>
                    <p class="text-2xl font-bold text-gray-800">182,650</p>
                    <p class="text-xs text-green-600 mt-1"><i class="fas fa-arrow-up"></i> 8.3% YoY</p>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-accent-500">
                    <p class="text-sm text-gray-500 mb-1">Transaction Value</p>
                    <p class="text-2xl font-bold text-gray-800">245B</p>
                    <p class="text-xs text-gray-500 mt-1">PKR (Est.)</p>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-purple-500">
                    <p class="text-sm text-gray-500 mb-1">Active Districts</p>
                    <p class="text-2xl font-bold text-gray-800">36/36</p>
                    <p class="text-xs text-green-600 mt-1">100% Coverage</p>
                </div>
                <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-blue-500">
                    <p class="text-sm text-gray-500 mb-1">Avg Processing</p>
                    <p class="text-2xl font-bold text-gray-800">2.3</p>
                    <p class="text-xs text-green-600 mt-1">Days (Target: 3)</p>
                </div>
            </div>

            <!-- Charts Row 1 -->
            <div class="grid lg:grid-cols-2 gap-6 mb-6">
                <!-- Year-over-Year Comparison -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-800">Year-over-Year Comparison</h3>
                        <select class="text-sm border rounded px-2 py-1">
                            <option>Registrations</option>
                            <option>Mutations</option>
                            <option>Revenue</option>
                        </select>
                    </div>
                    <div id="yoyChart"></div>
                </div>

                <!-- District Performance -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-800">Top Performing Districts</h3>
                        <a href="#" class="text-sm text-primary-600">View All</a>
                    </div>
                    <div id="districtChart"></div>
                </div>
            </div>

            <!-- Charts Row 2 -->
            <div class="grid lg:grid-cols-3 gap-6 mb-6">
                <!-- Transaction Types -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h3 class="font-semibold text-gray-800 mb-4">Transaction Distribution</h3>
                    <div id="transactionChart"></div>
                </div>

                <!-- Monthly Trend -->
                <div class="bg-white rounded-xl shadow-sm p-6">
                    <h3 class="font-semibold text-gray-800 mb-4">Monthly Trend (2024)</h3>
                    <div id="monthlyChart"></div>
                </div>

                <!-- Attendance Stats (Toggle) -->
                <div class="bg-white rounded-xl shadow-sm p-6" id="attendancePanel">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-gray-800">Office Operations</h3>
                        <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded">Live</span>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">Offices Open Today</span>
                                <span class="font-medium">142/150</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 95%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">Staff Present</span>
                                <span class="font-medium">1,245/1,380</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" style="width: 90%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-gray-600">Avg Wait Time</span>
                                <span class="font-medium">18 min</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-amber-500 h-2 rounded-full" style="width: 60%"></div>
                            </div>
                        </div>
                        <div class="pt-2 border-t">
                            <p class="text-xs text-gray-500 text-center">Data from Attendance Management System Punjab</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- District Heatmap -->
            <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="font-semibold text-gray-800">District Activity Heat Map</h3>
                    <div class="flex gap-2">
                        <button class="px-3 py-1 bg-primary-500 text-white rounded text-sm">Registrations</button>
                        <button class="px-3 py-1 bg-gray-100 text-gray-600 rounded text-sm">Mutations</button>
                        <button class="px-3 py-1 bg-gray-100 text-gray-600 rounded text-sm">Revenue</button>
                    </div>
                </div>
                <div class="h-80 bg-gray-50 rounded-lg flex items-center justify-center">
                    <div class="text-center">
                        <i class="fas fa-map text-6xl text-gray-300 mb-4"></i>
                        <p class="text-gray-500">Interactive Punjab District Map</p>
                        <p class="text-sm text-gray-400">Hover over districts for details</p>
                    </div>
                </div>
            </div>

            <!-- Export Options -->
            <div class="bg-gradient-to-r from-primary-500 to-primary-700 rounded-xl p-6 text-white">
                <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                    <div>
                        <h3 class="text-xl font-bold">Generate Executive Report</h3>
                        <p class="text-primary-100">Download comprehensive analysis in PDF format</p>
                    </div>
                    <div class="flex gap-3">
                        <button class="bg-white text-primary-600 px-6 py-2 rounded-lg font-medium hover:bg-gray-100">
                            <i class="fas fa-file-pdf mr-2"></i>
                            PDF Report
                        </button>
                        <button class="bg-white/10 border border-white/30 px-6 py-2 rounded-lg font-medium hover:bg-white/20">
                            <i class="fas fa-file-excel mr-2"></i>
                            Export Data
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Year-over-Year Chart
        var yoyOptions = {
            series: [{
                name: '2023',
                data: [18, 20, 22, 19, 21, 23, 22, 24, 25, 26, 24, 28]
            }, {
                name: '2024',
                data: [21, 23, 25, 22, 24, 26, 25, 27, 29, 30, 0, 0]
            }],
            chart: { type: 'bar', height: 280, toolbar: { show: false } },
            colors: ['#93c5fd', '#1e3a5f'],
            plotOptions: { bar: { borderRadius: 4, columnWidth: '60%' } },
            xaxis: { categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] },
            yaxis: { labels: { formatter: val => val + 'K' } },
            legend: { position: 'top' }
        };
        new ApexCharts(document.querySelector("#yoyChart"), yoyOptions).render();

        // District Chart
        var districtOptions = {
            series: [{ data: [45.6, 38.9, 32.4, 28.5, 22.3] }],
            chart: { type: 'bar', height: 280, toolbar: { show: false } },
            colors: ['#166534'],
            plotOptions: { bar: { horizontal: true, borderRadius: 4 } },
            xaxis: { categories: ['Lahore', 'Faisalabad', 'Multan', 'Gujranwala', 'Rawalpindi'] },
            dataLabels: { enabled: true, formatter: val => val + 'K' }
        };
        new ApexCharts(document.querySelector("#districtChart"), districtOptions).render();

        // Transaction Chart
        var transactionOptions = {
            series: [45, 25, 15, 10, 5],
            chart: { type: 'donut', height: 250 },
            labels: ['Sale', 'Gift', 'Mortgage', 'Inheritance', 'Other'],
            colors: ['#1e3a5f', '#166534', '#d97706', '#7c3aed', '#64748b'],
            legend: { position: 'bottom', fontSize: '11px' }
        };
        new ApexCharts(document.querySelector("#transactionChart"), transactionOptions).render();

        // Monthly Chart
        var monthlyOptions = {
            series: [{ name: 'Registrations', data: [21, 23, 25, 22, 24, 26, 25, 27, 29, 30] }],
            chart: { type: 'area', height: 250, toolbar: { show: false }, sparkline: { enabled: false } },
            colors: ['#1e3a5f'],
            fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.4, opacityTo: 0.1 } },
            stroke: { curve: 'smooth', width: 2 },
            xaxis: { categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'] },
            yaxis: { labels: { formatter: val => val + 'K' } }
        };
        new ApexCharts(document.querySelector("#monthlyChart"), monthlyOptions).render();
    </script>

    <style>
        .toggle {
            appearance: none;
            width: 40px;
            height: 20px;
            background: #e5e7eb;
            border-radius: 10px;
            position: relative;
            cursor: pointer;
            transition: background 0.2s;
        }
        .toggle:checked {
            background: #166534;
        }
        .toggle::before {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            background: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: left 0.2s;
        }
        .toggle:checked::before {
            left: 22px;
        }
    </style>
</body>
</html>
